<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="Cache-Control" content="no-cache">

    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes"> -->

    <title>Fluid Simulation</title>
    <!-- <meta name="description" content=""> -->

    <link rel="icon" href=" " type="image/png">

    <style>
        * {
            user-select: none;
        }

        /* TODO All this css can be simplified */

        html, body {
            overflow: hidden;
            background-color: #000;
        }

        body {
            margin: 0;
            position: fixed;
            width: 100%;
            height: 100%;
        }

        canvas {
            width: 100%;
            height: 100%;
        }
    </style>
</head>

<body>
    <canvas></canvas>
    <script src="script.js?v=1"></script>
    <script>
        const canvas = document.getElementsByTagName('canvas')[0];
        resizeCanvas();

        // if (!('WebAssembly' in window)) {
        //     alert('You need a browser with wasm support enabled');
        //     return;
        // }

        startWasm();

        function resizeCanvas () {
            let width = scaleByPixelRatio(canvas.clientWidth);
            let height = scaleByPixelRatio(canvas.clientHeight);
            if (canvas.width != width || canvas.height != height) {
                canvas.width = width;
                canvas.height = height;
                return true;
            }
            return false;
        }

        // I think this can be simplified
        function scaleByPixelRatio (input) {
            let pixelRatio = window.devicePixelRatio || 1;
            return Math.floor(input * pixelRatio);
        }        
    </script>
</body>

</html>